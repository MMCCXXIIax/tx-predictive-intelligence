services:
- type: web
  name: tx-backend
  env: python
  plan: starter
  buildCommand: |
    pip install -r requirements.txt
  startCommand: |
    gunicorn -k gthread --threads 4 -w 1 -b 0.0.0.0:$PORT main:app
  healthCheckPath: /health
  envVars:
    - key: FLASK_ENV
      value: production
    - key: BACKEND_SCAN_INTERVAL
      value: 180
    - key: ALERT_CONFIDENCE_THRESHOLD
      value: 0.85
    - key: ENABLE_PAPER_TRADING
      value: true